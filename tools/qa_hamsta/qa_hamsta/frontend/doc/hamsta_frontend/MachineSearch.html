<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Docs For Class MachineSearch</title>
	<link rel="stylesheet" type="text/css" id="layout" href="../media/layout.css" media="screen">
	<link rel="stylesheet" type="text/css" href="../media/style.css" media="all">
	<link rel="stylesheet" type="text/css" href="../media/print.css" media="print">
</head>

<body>
<div id="header">
	<div id="navLinks">
		[ <a href="../classtrees_hamsta_frontend.html">Class Tree: hamsta_frontend</a> ]
		[ <a href="../elementindex_hamsta_frontend.html">Index: hamsta_frontend</a> ]
		[ <a href="../elementindex.html">All elements</a> ]
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">hamsta_frontend</div>
		<div id="packageTitle">hamsta_frontend</div>
		<div id="elementPath"> &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="todolist">
			<p><a href="../todolist.html">Todo List</a></p>
	</div>
	<div id="packages">
		Packages:
					<p><a href="../index.html">hamsta_frontend</a></p>
			</div>

				<div id="index">
			<div id="files">
								Files:<br>
								<a href="../hamsta_frontend/_config.php.html">		config.php
		</a><br>
			<a href="../hamsta_frontend/_lib---configuration.php.html">		configuration.php
		</a><br>
			<a href="../hamsta_frontend/_inc---create_group.php.html">		create_group.php
		</a><br>
			<a href="../hamsta_frontend/_html---create_group.php.html">		create_group.php
		</a><br>
			<a href="../hamsta_frontend/_lib---db.php.html">		db.php
		</a><br>
			<a href="../hamsta_frontend/_inc---del_group.php.html">		del_group.php
		</a><br>
			<a href="../hamsta_frontend/_html---del_group.php.html">		del_group.php
		</a><br>
			<a href="../hamsta_frontend/_html---diff_config.php.html">		diff_config.php
		</a><br>
			<a href="../hamsta_frontend/_inc---diff_config.php.html">		diff_config.php
		</a><br>
			<a href="../hamsta_frontend/_html---diff_module.php.html">		diff_module.php
		</a><br>
			<a href="../hamsta_frontend/_inc---diff_module.php.html">		diff_module.php
		</a><br>
			<a href="../hamsta_frontend/_html---edit_machines.php.html">		edit_machines.php
		</a><br>
			<a href="../hamsta_frontend/_inc---edit_machines.php.html">		edit_machines.php
		</a><br>
			<a href="../hamsta_frontend/_html---footer.php.html">		footer.php
		</a><br>
			<a href="../hamsta_frontend/_lib---group.php.html">		group.php
		</a><br>
			<a href="../hamsta_frontend/_html---groups.php.html">		groups.php
		</a><br>
			<a href="../hamsta_frontend/_inc---groups.php.html">		groups.php
		</a><br>
			<a href="../hamsta_frontend/_html---group_del_machines.php.html">		group_del_machines.php
		</a><br>
			<a href="../hamsta_frontend/_inc---group_del_machines.php.html">		group_del_machines.php
		</a><br>
			<a href="../hamsta_frontend/_html---header.php.html">		header.php
		</a><br>
			<a href="../hamsta_frontend/_index.php.html">		index.php
		</a><br>
			<a href="../hamsta_frontend/_lib---jobrun.php.html">		jobrun.php
		</a><br>
			<a href="../hamsta_frontend/_inc---jobruns.php.html">		jobruns.php
		</a><br>
			<a href="../hamsta_frontend/_html---jobruns.php.html">		jobruns.php
		</a><br>
			<a href="../hamsta_frontend/_html---job_details.php.html">		job_details.php
		</a><br>
			<a href="../hamsta_frontend/_inc---job_details.php.html">		job_details.php
		</a><br>
			<a href="../hamsta_frontend/_lib---machine.php.html">		machine.php
		</a><br>
			<a href="../hamsta_frontend/_inc---machines.php.html">		machines.php
		</a><br>
			<a href="../hamsta_frontend/_html---machines.php.html">		machines.php
		</a><br>
			<a href="../hamsta_frontend/_html---machine_details.php.html">		machine_details.php
		</a><br>
			<a href="../hamsta_frontend/_inc---machine_details.php.html">		machine_details.php
		</a><br>
			<a href="../hamsta_frontend/_lib---module.php.html">		module.php
		</a><br>
			<a href="../hamsta_frontend/_inc---module_details.php.html">		module_details.php
		</a><br>
			<a href="../hamsta_frontend/_html---module_details.php.html">		module_details.php
		</a><br>
			<a href="../hamsta_frontend/_lib---request.php.html">		request.php
		</a><br>
			<a href="../hamsta_frontend/_html---send_job.php.html">		send_job.php
		</a><br>
			<a href="../hamsta_frontend/_inc---send_job.php.html">		send_job.php
		</a><br>
			<a href="../hamsta_frontend/_lib---slplist.php.html">		slplist.php
		</a><br>
				</div>
			<div id="interfaces">
							</div>
			<div id="classes">
				Classes:<br>
								<a href="../hamsta_frontend/Configuration.html">		Configuration
		</a><br>
			<a href="../hamsta_frontend/Filter.html">		Filter
		</a><br>
			<a href="../hamsta_frontend/FilterModuleDescription.html">		FilterModuleDescription
		</a><br>
			<a href="../hamsta_frontend/FilterModuleDriver.html">		FilterModuleDriver
		</a><br>
			<a href="../hamsta_frontend/FilterModuleElement.html">		FilterModuleElement
		</a><br>
			<a href="../hamsta_frontend/Group.html">		Group
		</a><br>
			<a href="../hamsta_frontend/JobRun.html">		JobRun
		</a><br>
			<a href="../hamsta_frontend/Machine.html">		Machine
		</a><br>
			<a href="../hamsta_frontend/MachineSearch.html">		MachineSearch
		</a><br>
			<a href="../hamsta_frontend/Module.html">		Module
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
	    		<h1>Class: MachineSearch</h1>
	<p style="margin: 0px;">Source Location: /lib/machine.php</p>
	

<div class="leftcol">
	<h3><a href="#class_details">Class Overview</a> <span class="smalllinenumber">[line 694]</span></h3>
	<div id="classTree"><pre></pre>
</div>
	<div class="small">
	<p>MachineSearch</p>
		<h4>Author(s):</h4>
	<ul>
								<li>Kevin Wolf &lt;<a href="mailto:kwolf@suse.de">kwolf@suse.de</a>&gt;</li>
											</ul>
	<h4>Version:</h4>
	<ul>
													<li>$Rev: 1704 $</li>
						</ul>

	<h4>Copyright:</h4>
	<ul>
													</li>
	</div>
</div>

<div class="middlecol">
	<h3><a href="#class_vars">Variables</a></h3>
	<ul class="small">
			</ul>
	<h3><a href="#class_consts">Constants</a></h3>
	<ul class="small">
			</ul>
</div>
<div class="rightcol">
	<h3><a href="#class_methods">Methods</a></h3>
	<ul class="small">
				<li><a href="../hamsta_frontend/MachineSearch.html#method__construct">__construct</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodadd_alternative_conditions">add_alternative_conditions</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodadd_condition">add_condition</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodadd_postfilter">add_postfilter</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodadd_table">add_table</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_anything">filter_anything</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_architecture">filter_architecture</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_group">filter_group</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_in_array">filter_in_array</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_maintainer">filter_maintainer</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_module_description">filter_module_description</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_module_driver">filter_module_driver</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_module_element">filter_module_element</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodfilter_status">filter_status</a></li>
				<li><a href="../hamsta_frontend/MachineSearch.html#methodquery">query</a></li>
			</ul>
</div>

<div id="content">
<hr>
	<div class="contents">
	</div>

	<div class="leftCol">
    	<h2>Inherited Variables</h2>
		<h2>Inherited Constants</h2>
		</div>

	<div class="rightCol">
	<h2>Inherited Methods</h2>
		</div>
	<br clear="all">
	<hr>

	<a name="class_details"></a>
	<h2>Class Details</h2>
	<p align="center"><strong>MachineSearch
</strong></p>
<p>Manages a search for machines</p><h4>Tags:</h4>
<ul>
	<li><b>author</b> - Kevin Wolf &lt;<a href="mailto:kwolf@suse.de">kwolf@suse.de</a>&gt;</li>
	<li><b>version</b> - $Rev: 1704 $</li>
</ul>
	<p class="small" style="color: #334B66;">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_vars"></a>
	<h2>Class Variables</h2>
	
	<hr>
	<a name="class_methods"></a>
	<h2>Class Methods</h2>
	
	<a name="method__construct"></a>
	<p></p>
	<h3>__construct</h3>
	<div class="indent">
		<p>
		<code>void __construct(
)</code>
		</p>
	
		<p class="linenumber">[line 718]</p>
		<p align="center"><strong>__construct
</strong></p>
<p>Creates a new MachineSeach object</p>		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodadd_alternative_conditions"></a>
	<p></p>
	<h3>add_alternative_conditions</h3>
	<div class="indent">
		<p>
		<code>bool add_alternative_conditions(
array
$conditions)</code>
		</p>
	
		<p class="linenumber">[line 832]</p>
		<p align="center"><strong>add_alternative_conditions
</strong></p>
<p>Add multiple alternative (OR-ed) conditions</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true on success; false otherwise</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">array</span>
		<b>$conditions</b> 
		- 
		Array of conditions to add. Each condition is        represented by an associative array where the keys are the        parameter names of add_condition (without dollar sign).</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodadd_condition"></a>
	<p></p>
	<h3>add_condition</h3>
	<div class="indent">
		<p>
		<code>bool add_condition(
mixed
$field, mixed
$value, [string
$operator = '='])</code>
		</p>
	
		<p class="linenumber">[line 786]</p>
		<p align="center"><strong>add_condition
</strong></p>
<p>Adds a condition based on the attributes of the machine itself to  the query. This function cannot be used for matching modules or module elements.</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true if the condition could be added to the search; false       on error</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">mixed</span>
		<b>$field</b> 
		- 
		Field to check</li>
			<li>
		<span class="type">mixed</span>
		<b>$value</b> 
		- 
		Value to check for. Has to be an array if operator       is IN. Unused if operator is IS NOT NULL.</li>
			<li>
		<span class="type">string</span>
		<b>$operator</b> 
		- 
		SQL Operator to be used for comparison of field       and value. Valid operators are =, LIKE, IN, IS NOT NULL.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodadd_postfilter"></a>
	<p></p>
	<h3>add_postfilter</h3>
	<div class="indent">
		<p>
		<code>void add_postfilter(
<a href="../hamsta_frontend/Filter.html">Filter</a>
$filter)</code>
		</p>
	
		<p class="linenumber">[line 892]</p>
		<p align="center"><strong>add_postfilter
</strong></p>
<p>Adds a filter implemented in PHP. As these filters require the database to read out all rows in the first place because the filtering is done by PHP code, these filters are not as efficient as SQL conditions.</p><p>Whenever possible choose a SQL condition instead.</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type"><a href="../hamsta_frontend/Filter.html">Filter</a></span>
		<b>$filter</b> 
		- 
		</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodadd_table"></a>
	<p></p>
	<h3>add_table</h3>
	<div class="indent">
		<p>
		<code>boolean add_table(
string
$table, string
$join_condition)</code>
		</p>
	
		<p class="linenumber">[line 866]</p>
		<p align="center"><strong>add_table
</strong></p>
<p>Adds another table to the SQL query</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true on success; false otherwise</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$table</b> 
		- 
		Name of the table to add</li>
			<li>
		<span class="type">string</span>
		<b>$join_condition</b> 
		- 
		SQL condition used to perform the join</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_anything"></a>
	<p></p>
	<h3>filter_anything</h3>
	<div class="indent">
		<p>
		<code>void filter_anything(
string
$text, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 1036]</p>
		<p align="center"><strong>filter_anything
</strong></p>
<p>Performs a search on all elements of all modules of a machine. The  machine is returned if name or value of any of these elements match the given text.</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$text</b> 
		- 
		Text to search for</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_architecture"></a>
	<p></p>
	<h3>filter_architecture</h3>
	<div class="indent">
		<p>
		<code>void filter_architecture(
string
$arch, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 933]</p>
		<p align="center"><strong>filter_architecture
</strong></p>
<p>Filter for machines of a given architecture</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$arch</b> 
		- 
		Name or substring of the architecture</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_group"></a>
	<p></p>
	<h3>filter_group</h3>
	<div class="indent">
		<p>
		<code>void filter_group(
string
$group_name)</code>
		</p>
	
		<p class="linenumber">[line 916]</p>
		<p align="center"><strong>filter_group
</strong></p>
<p>Filters for machines belonging to the given group</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$group_name</b> 
		- 
		Group name</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_in_array"></a>
	<p></p>
	<h3>filter_in_array</h3>
	<div class="indent">
		<p>
		<code>void filter_in_array(
array
$ids)</code>
		</p>
	
		<p class="linenumber">[line 904]</p>
		<p align="center"><strong>filter_in_array
</strong></p>
<p>Filters for machines whose ID is in the given array</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">array</span>
		<b>$ids</b> 
		- 
		Array of the IDs of all machines to find</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_maintainer"></a>
	<p></p>
	<h3>filter_maintainer</h3>
	<div class="indent">
		<p>
		<code>void filter_maintainer(
string
$maintainer_id, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 949]</p>
		<p align="center"><strong>filter_maintainer
</strong></p>
<p>Filter machines by maintainer</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$maintainer_id</b> 
		- 
		ID of the maintainer to search for</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_module_description"></a>
	<p></p>
	<h3>filter_module_description</h3>
	<div class="indent">
		<p>
		<code>void filter_module_description(
string
$module, string
$description, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 982]</p>
		<p align="center"><strong>filter_module_description
</strong></p>
<p>Filter for machines with a module matching the given description</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$module</b> 
		- 
		Name of the module (e.g. &quot;netcard&quot;)</li>
			<li>
		<span class="type">string</span>
		<b>$description</b> 
		- 
		Description to search for</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_module_driver"></a>
	<p></p>
	<h3>filter_module_driver</h3>
	<div class="indent">
		<p>
		<code>void filter_module_driver(
string
$module, string
$driver, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 999]</p>
		<p align="center"><strong>filter_module_driver
</strong></p>
<p>Filter for machines with a module matching the given driver</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$module</b> 
		- 
		Name of the module (e.g. &quot;netcard&quot;)</li>
			<li>
		<span class="type">string</span>
		<b>$driver</b> 
		- 
		Name of the drive to search for (e.g. &quot;tg3&quot;)</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_module_element"></a>
	<p></p>
	<h3>filter_module_element</h3>
	<div class="indent">
		<p>
		<code>void filter_module_element(
string
$module, string
$element, string
$value, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 1018]</p>
		<p align="center"><strong>filter_module_element
</strong></p>
<p>Filter for machines where a element of the given modules matches the given name and value.</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$module</b> 
		- 
		Name of the module (e.g. &quot;netcard&quot;)</li>
			<li>
		<span class="type">string</span>
		<b>$element</b> 
		- 
		Name of the element (e.g. &quot;Vendor&quot;)</li>
			<li>
		<span class="type">string</span>
		<b>$value</b> 
		- 
		Name of the value to search for</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilter_status"></a>
	<p></p>
	<h3>filter_status</h3>
	<div class="indent">
		<p>
		<code>void filter_status(
string
$status_id, [int
$operator = MachineSearch::FILTER_EQUALS])</code>
		</p>
	
		<p class="linenumber">[line 965]</p>
		<p align="center"><strong>filter_status
</strong></p>
<p>Filter for machines in a given status</p>		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$status_id</b> 
		- 
		ID of the status to search for</li>
			<li>
		<span class="type">int</span>
		<b>$operator</b> 
		- 
		MachineSearch::FILTER_EQUALS for exact matching        or MachineSearch::FILTER_LIKE for SQL LIKE matching (you have to       provide the % placeholders by yourself if you want to do a substring       search)</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodquery"></a>
	<p></p>
	<h3>query</h3>
	<div class="indent">
		<p>
		<code>array query(
)</code>
		</p>
	
		<p class="linenumber">[line 732]</p>
		<p align="center"><strong>query
</strong></p>
<p>Performs the search on the database</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - Array of matching Machine objects; null on error</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_consts"></a>
	<h2>Class Constants</h2>
	</div>
	<div id="credit">
		<hr>
		Documentation generated on Mon, 26 Feb 2007 14:01:02 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.3.1</a>
	</div>
</div>
</body>
</html>